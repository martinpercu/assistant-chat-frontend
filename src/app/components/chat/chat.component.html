<!-- <div class="page_main">
  <div class="page_container">
    <div class="chatContainer">
      <div class="messages">
        <div *ngFor="let message of chatMessages"
          [ngClass]="{ 'userMessage': message.role === 'user', 'assistant-message': message.role === 'assistant' }">
          <p class="userMessage">{{ message.message }}</p>
          <p *ngIf="message.content">{{ message.content }}</p>
        </div>

        <form class="inputForm clearfix">
          <input type="text" class="input" />
          <button type="submit" class="button">
            Send
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->

<div class="h-[35vh] grow flex flex-col p-2.5 max-w-xl m-auto border border-gray-400 rounded-2xl">

  <div class="flex h-full">

    <div class="grow p-3 flex flex-col whitespace-pre-wrap">

      <div #messagesContainer class="grow overflow-y-auto p-3 flex flex-col scroll-smooth">

        <div class="w-full flex flex-col" *ngFor="let message of chatMessages">

          <!-- [ngClass]="{ 'userMessage': message.role === 'user', 'assistant-message': message.role === 'assistant' }"> -->
          <div class="self-end rounded-2xl text-white bg-black my-2 py-2 px-4 max-w-4/5 break-words whitespace-pre-wrap"
            [ngClass]="{ 'assistant-message': message.role === 'assistant',  'user-message': message.role === 'user' }">
            <div class="text-gray-200">{{ message.message }}</div>
            <div class="self-start">{{ message.content }}</div>
          </div>
        </div>



      </div>

        <div [ngClass]="showArrowDown ? 'arrow-show' : 'arrow-not-show'">
          <div (click)="scrollToBottomFromArrow()"
            class="cursor-pointer absolute bottom-16 z-10 rounded-full bg-clip-padding border text-token-text-secondary border-token-border-light right-1/2 translate-x-1/2 bg-token-main-surface-primary w-8 h-8 flex items-center justify-center">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
              class="icon-md text-token-text-primary">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12 21C11.7348 21 11.4804 20.8946 11.2929 20.7071L4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929C4.68342 11.9024 5.31658 11.9024 5.70711 12.2929L11 17.5858V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V17.5858L18.2929 12.2929C18.6834 11.9024 19.3166 11.9024 19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L12.7071 20.7071C12.5196 20.8946 12.2652 21 12 21Z"
                fill="currentColor"></path>
            </svg>
          </div>
        </div>




      <div class="flex flex-row w-full p-2.5 pb-9">
        <input class="grow py-3 px-5 mr-4 rounded-4xl font-bold ring-0 border-0 bg-gray-100" type="text"
          [(ngModel)]="userMessage" placeholder="Type a message..." (keyup.enter)="sendMessage()">
        <div class="py-3 px-10 bg-black text-white border-0 font-bold rounded-4xl self-center" (click)="sendMessage()">
          Send
        </div>
      </div>

      <!-- @if(loadingResponse) {
      <div class="loading-response">
        <p>Speaking shshsh...</p>
      </div>
      } -->

    </div>

  </div>

</div>
